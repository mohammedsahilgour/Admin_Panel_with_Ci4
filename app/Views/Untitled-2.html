<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css" integrity="sha384-xOolHFLEh07PJGoPkLv1IbcEPTNtaed2xpHsD9ESMhqIYd0nLMwNLD69Npy4HI+N" crossorigin="anonymous">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"/>
    <link rel="stylesheet" href="bootstrap-iconpicker/css/bootstrap-iconpicker.min.css">
</head>
<body>
    <style>
        .list-group {
    display: -ms-flexbox;
    display: flex;
    -ms-flex-direction: column;
    flex-direction: column;
    padding-left: 0;
    margin-bottom: 0;
    border-radius: .25rem;
    width: 32%;
    margin-left: 118px;
    margin-top: 16px;

    
}
.border-primary {
    border-color: #007bff !important;
    width: 41%;
    /* position: relative; */
    /* margin-top: 0px; */
    position: absolute;
    top: -10px;
    left: 48%;
}
.form-control:disabled, .form-control[readonly] {
    background-color: #e9ecef;
    opacity: 1;
    width: 45%;
    margin-top: 1%;
}
.h3, h3 {
    font-size: 1.75rem;
    margin-top: 4%;
}
    </style>
<ul id="myEditor" class="sortableLists list-group">
</ul>
<div class="card border-primary mb-3">
    <div class="card-header bg-primary text-white">Edit item</div>
        <div class="card-body">
        <form id="frmEdit" class="form-horizontal">
        <div class="form-group">
        <label for="text">Text</label>
        <div class="input-group">
        <input type="text" class="form-control item-menu" name="text" id="text" placeholder="Text">
        <div class="input-group-append">
        <button type="button" id="myEditor_icon" class="btn btn-outline-secondary"></button>
        </div>
        </div>
        <input type="hidden" name="icon" class="item-menu">
        </div>
        <div class="form-group">
        <label for="href">URL</label>
        <input type="text" class="form-control item-menu" id="href" name="href" placeholder="URL">
        </div>
        <div class="form-group">
        <label for="target">Target</label>
        <select name="target" id="target" class="form-control item-menu">
        <option value="_self">Self</option>
        <option value="_blank">Blank</option>
        <option value="_top">Top</option>
        </select>
        </div>
        <div class="form-group">
        <label for="title">Tooltip</label>
        <input type="text" name="title" class="form-control item-menu" id="title" placeholder="Tooltip">
        </div>
        </form>
        </div>
    <div class="card-footer">
        <button type="button" id="btnUpdate" class="btn btn-primary" disabled><i class="fas fa-sync-alt"></i> Update</button>
        <button type="button" id="btnAdd" class="btn btn-success"><i class="fas fa-plus"></i> Add</button>
    </div>
</div>


<!-- Output JSON Section -->
        <div class="output-section">
            <h3>Generated Menu JSON</h3>
            <button type="button" id="outputbtn" class="btn btn-success">Output </button>

            <textarea id="myTextarea" class="form-control" rows="8" readonly></textarea>
        </div>
<script type="text/javascript" src='https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.1/jquery.min.js'></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-Fy6S3B9q64WdZWQUiU+q4/2Lc9npb8tCaSX9FK7E8HnRr0Jz8D6OP9dO5Vg3Q9ct" crossorigin="anonymous"></script>
<script type="text/javascript" src="bootstrap-iconpicker/js/iconset/fontawesome5-3-1.min.js"></script>
<script type="text/javascript" src="bootstrap-iconpicker/js/bootstrap-iconpicker.min.js"></script>
 <script type="text/javascript" src="bootstrap-iconpicker/js/jquery-menu-editor.min.js"></script>

</body>
</html>     
<script>
    var iconPickerOptions = {searchText: "Buscar...", labelHeader: "{0}/{1}"};
var sortableListOptions = {
    placeholderCss: {'background-color': "#cccccc"}
};
var editor = new MenuEditor('myEditor', 
            { 
            listOptions: sortableListOptions, 
            iconPicker: iconPickerOptions,
            maxLevel: 2,
            });
editor.setForm($('#frmEdit'));
editor.setUpdateButton($('#btnUpdate'));
$("#btnUpdate").click(function(){
    editor.update();
});
$('#btnAdd').click(function(){
    editor.add();
});

[
	{
		"href": "http://home.com",
		"icon": "fas fa-home",
		"text": "Home",
		"target": "_top",
		"title": "My Home"
	},
	{
		"icon": "fas fa-chart-bar",
		"text": "Opcion2"
	},
	{
		"icon": "fas fa-bell",
		"text": "Opcion3"
	},
	{
		"icon": "fas fa-crop",
		"text": "Opcion4"
	},
	{
		"icon": "fas fa-flask",
		"text": "Opcion5"
	},
	{
		"icon": "fas fa-map-marker",
		"text": "Opcion6"
	},
	{
		"icon": "fas fa-search",
		"text": "Opcion7",
		"children": [
			{
				"icon": "fas fa-plug",
				"text": "Opcion7-1",
				"children": [
					{
						"icon": "fas fa-filter",
						"text": "Opcion7-1-1"
					}
				]
			}
		]
	}
]
var arrayjson = [{"href":"http://home.com","icon":"fas fa-home","text":"Home", "target": "_top", "title": "My Home"},{"icon":"fas fa-chart-bar","text":"Opcion2"},{"icon":"fas fa-bell","text":"Opcion3"},{"icon":"fas fa-crop","text":"Opcion4"},{"icon":"fas fa-flask","text":"Opcion5"},{"icon":"fas fa-map-marker","text":"Opcion6"},{"icon":"fas fa-search","text":"Opcion7","children":[{"icon":"fas fa-plug","text":"Opcion7-1","children":[{"icon":"fas fa-filter","text":"Opcion7-1-1"}]}]}];
editor.setData(arrayjson);
// var str = editor.getString();
// console.log(str)
$("#outputbtn").click(function(){
    var str = editor.getString();
    $("#myTextarea").text(str);
})

</script>